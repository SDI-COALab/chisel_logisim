circuit MEM :
  module MEM :
    input clock : Clock
    input reset : UInt<1>
    input io_aluResult_MEM : UInt<32>
    input io_wMemData_MEM : UInt<32>
    input io_weMEM_ctrl_uMEM_MEM : UInt<1>
    input io_wRegDataSrc_ctrl_uMEM_MEM : UInt<1>
    input io_wrMemByteSelScr_ctrl_uMEM_MEM : UInt<2>
    input io_memReadDataExt_ctrl_uMEM_MEM : UInt<1>
    input io_reset : UInt<1>
    output io_wRegData_MEM : UInt<32>

    mem mem : @[MEM.scala 19:18]
      data-type => UInt<8>
      depth => 16384
      read-latency => 0
      write-latency => 1
      reader => rdata0
      reader => rdata1
      reader => rdata2
      reader => rdata3
      writer => MPORT
      writer => MPORT_1
      writer => MPORT_2
      writer => MPORT_3
      read-under-write => undefined
    reg readMemData : UInt<32>, clock with :
      reset => (UInt<1>("h0"), readMemData) @[MEM.scala 22:30]
    node byteAddr = bits(io_aluResult_MEM, 1, 0) @[MEM.scala 25:36]
    node addr = bits(io_aluResult_MEM, 6, 2) @[MEM.scala 26:32]
    node _wMemDAtaB_T = bits(io_wMemData_MEM, 7, 0) @[MEM.scala 33:33]
    node _wMemDAtaB_T_1 = bits(io_wMemData_MEM, 7, 0) @[MEM.scala 33:47]
    node _wMemDAtaB_T_2 = bits(io_wMemData_MEM, 7, 0) @[MEM.scala 33:61]
    node _wMemDAtaB_T_3 = bits(io_wMemData_MEM, 7, 0) @[MEM.scala 33:75]
    node wMemDAtaB_lo = cat(_wMemDAtaB_T_2, _wMemDAtaB_T_3) @[Cat.scala 31:58]
    node wMemDAtaB_hi = cat(_wMemDAtaB_T, _wMemDAtaB_T_1) @[Cat.scala 31:58]
    node wMemDAtaB = cat(wMemDAtaB_hi, wMemDAtaB_lo) @[Cat.scala 31:58]
    node _wMemDataH_T = bits(io_wMemData_MEM, 15, 0) @[MEM.scala 34:33]
    node _wMemDataH_T_1 = bits(io_wMemData_MEM, 15, 0) @[MEM.scala 34:48]
    node wMemDataH = cat(_wMemDataH_T, _wMemDataH_T_1) @[Cat.scala 31:58]
    node _wMeMData_end_T = eq(io_wrMemByteSelScr_ctrl_uMEM_MEM, UInt<2>("h1")) @[MEM.scala 37:31]
    node _wMeMData_end_T_1 = eq(io_wrMemByteSelScr_ctrl_uMEM_MEM, UInt<2>("h2")) @[MEM.scala 38:31]
    node _wMeMData_end_T_2 = eq(io_wrMemByteSelScr_ctrl_uMEM_MEM, UInt<2>("h3")) @[MEM.scala 39:31]
    node _wMeMData_end_T_3 = mux(_wMeMData_end_T_2, io_wMemData_MEM, UInt<32>("h0")) @[Mux.scala 101:16]
    node _wMeMData_end_T_4 = mux(_wMeMData_end_T_1, wMemDataH, _wMeMData_end_T_3) @[Mux.scala 101:16]
    node wMeMData_end = mux(_wMeMData_end_T, wMemDAtaB, _wMeMData_end_T_4) @[Mux.scala 101:16]
    node wdata0 = bits(wMeMData_end, 7, 0) @[MEM.scala 42:30]
    node wdata1 = bits(wMeMData_end, 15, 8) @[MEM.scala 43:30]
    node wdata2 = bits(wMeMData_end, 23, 16) @[MEM.scala 44:30]
    node wdata3 = bits(wMeMData_end, 31, 24) @[MEM.scala 45:30]
    node _typeB_T = eq(byteAddr, UInt<1>("h0")) @[MEM.scala 48:19]
    node _typeB_T_1 = eq(byteAddr, UInt<1>("h1")) @[MEM.scala 49:19]
    node _typeB_T_2 = eq(byteAddr, UInt<2>("h2")) @[MEM.scala 50:19]
    node _typeB_T_3 = eq(byteAddr, UInt<2>("h3")) @[MEM.scala 51:19]
    node _typeB_T_4 = mux(_typeB_T_3, UInt<4>("h8"), UInt<4>("h0")) @[Mux.scala 101:16]
    node _typeB_T_5 = mux(_typeB_T_2, UInt<3>("h4"), _typeB_T_4) @[Mux.scala 101:16]
    node _typeB_T_6 = mux(_typeB_T_1, UInt<2>("h2"), _typeB_T_5) @[Mux.scala 101:16]
    node typeB = mux(_typeB_T, UInt<1>("h1"), _typeB_T_6) @[Mux.scala 101:16]
    node _typeH_T = bits(byteAddr, 1, 1) @[MEM.scala 55:18]
    node _typeH_T_1 = eq(_typeH_T, UInt<1>("h0")) @[MEM.scala 55:22]
    node _typeH_T_2 = bits(byteAddr, 1, 1) @[MEM.scala 56:18]
    node _typeH_T_3 = eq(_typeH_T_2, UInt<1>("h1")) @[MEM.scala 56:22]
    node _typeH_T_4 = mux(_typeH_T_3, UInt<4>("hc"), UInt<4>("h0")) @[Mux.scala 101:16]
    node typeH = mux(_typeH_T_1, UInt<2>("h3"), _typeH_T_4) @[Mux.scala 101:16]
    node _byteSel_T = eq(io_wrMemByteSelScr_ctrl_uMEM_MEM, UInt<2>("h1")) @[MEM.scala 60:31]
    node _byteSel_T_1 = eq(io_wrMemByteSelScr_ctrl_uMEM_MEM, UInt<2>("h2")) @[MEM.scala 61:31]
    node _byteSel_T_2 = eq(io_wrMemByteSelScr_ctrl_uMEM_MEM, UInt<2>("h3")) @[MEM.scala 62:31]
    node _byteSel_T_3 = mux(_byteSel_T_2, UInt<4>("hf"), UInt<4>("h0")) @[Mux.scala 101:16]
    node _byteSel_T_4 = mux(_byteSel_T_1, typeH, _byteSel_T_3) @[Mux.scala 101:16]
    node byteSel = mux(_byteSel_T, typeB, _byteSel_T_4) @[Mux.scala 101:16]
    node _T = eq(io_weMEM_ctrl_uMEM_MEM, UInt<1>("h1")) @[MEM.scala 65:21]
    node _T_1 = bits(byteSel, 0, 0) @[MEM.scala 66:46]
    node _T_2 = bits(_T_1, 0, 0) @[Bitwise.scala 74:15]
    node _T_3 = mux(_T_2, UInt<8>("hff"), UInt<8>("h0")) @[Bitwise.scala 74:12]
    node _T_4 = and(wdata0, _T_3) @[MEM.scala 66:29]
    node _T_5 = add(addr, UInt<32>("h1")) @[MEM.scala 67:18]
    node _T_6 = tail(_T_5, 1) @[MEM.scala 67:18]
    node _T_7 = bits(_T_6, 13, 0) @[MEM.scala 67:12]
    node _T_8 = bits(byteSel, 1, 1) @[MEM.scala 67:64]
    node _T_9 = bits(_T_8, 0, 0) @[Bitwise.scala 74:15]
    node _T_10 = mux(_T_9, UInt<8>("hff"), UInt<8>("h0")) @[Bitwise.scala 74:12]
    node _T_11 = and(wdata1, _T_10) @[MEM.scala 67:47]
    node _T_12 = add(addr, UInt<32>("h2")) @[MEM.scala 68:18]
    node _T_13 = tail(_T_12, 1) @[MEM.scala 68:18]
    node _T_14 = bits(_T_13, 13, 0) @[MEM.scala 68:12]
    node _T_15 = bits(byteSel, 2, 2) @[MEM.scala 68:64]
    node _T_16 = bits(_T_15, 0, 0) @[Bitwise.scala 74:15]
    node _T_17 = mux(_T_16, UInt<8>("hff"), UInt<8>("h0")) @[Bitwise.scala 74:12]
    node _T_18 = and(wdata2, _T_17) @[MEM.scala 68:47]
    node _T_19 = add(addr, UInt<32>("h3")) @[MEM.scala 69:18]
    node _T_20 = tail(_T_19, 1) @[MEM.scala 69:18]
    node _T_21 = bits(_T_20, 13, 0) @[MEM.scala 69:12]
    node _T_22 = bits(byteSel, 3, 3) @[MEM.scala 69:64]
    node _T_23 = bits(_T_22, 0, 0) @[Bitwise.scala 74:15]
    node _T_24 = mux(_T_23, UInt<8>("hff"), UInt<8>("h0")) @[Bitwise.scala 74:12]
    node _T_25 = and(wdata3, _T_24) @[MEM.scala 69:47]
    node _T_26 = eq(io_weMEM_ctrl_uMEM_MEM, UInt<1>("h0")) @[MEM.scala 70:27]
    node _rdata1_T = add(addr, UInt<32>("h1")) @[MEM.scala 72:31]
    node _rdata1_T_1 = tail(_rdata1_T, 1) @[MEM.scala 72:31]
    node _rdata1_T_2 = bits(_rdata1_T_1, 13, 0) @[MEM.scala 72:25]
    node _rdata2_T = add(addr, UInt<32>("h2")) @[MEM.scala 73:31]
    node _rdata2_T_1 = tail(_rdata2_T, 1) @[MEM.scala 73:31]
    node _rdata2_T_2 = bits(_rdata2_T_1, 13, 0) @[MEM.scala 73:25]
    node _rdata3_T = add(addr, UInt<32>("h3")) @[MEM.scala 74:31]
    node _rdata3_T_1 = tail(_rdata3_T, 1) @[MEM.scala 74:31]
    node _rdata3_T_2 = bits(_rdata3_T_1, 13, 0) @[MEM.scala 74:25]
    node readWordData_lo = cat(mem.rdata1.data, mem.rdata0.data) @[Cat.scala 31:58]
    node readWordData_hi = cat(mem.rdata3.data, mem.rdata2.data) @[Cat.scala 31:58]
    node readWordData = cat(readWordData_hi, readWordData_lo) @[Cat.scala 31:58]
    node _DataB_T = eq(byteAddr, UInt<1>("h0")) @[MEM.scala 77:23]
    node _DataB_T_1 = eq(byteAddr, UInt<1>("h1")) @[MEM.scala 78:23]
    node _DataB_T_2 = eq(byteAddr, UInt<2>("h2")) @[MEM.scala 79:23]
    node _DataB_T_3 = eq(byteAddr, UInt<2>("h3")) @[MEM.scala 80:23]
    node _DataB_T_4 = mux(_DataB_T_3, mem.rdata3.data, UInt<8>("h0")) @[Mux.scala 101:16]
    node _DataB_T_5 = mux(_DataB_T_2, mem.rdata2.data, _DataB_T_4) @[Mux.scala 101:16]
    node _DataB_T_6 = mux(_DataB_T_1, mem.rdata1.data, _DataB_T_5) @[Mux.scala 101:16]
    node DataB = mux(_DataB_T, mem.rdata0.data, _DataB_T_6) @[Mux.scala 101:16]
    node _readByteData_T = eq(io_memReadDataExt_ctrl_uMEM_MEM, UInt<1>("h0")) @[MEM.scala 83:39]
    node _readByteData_T_1 = mux(UInt<1>("h0"), UInt<24>("hffffff"), UInt<24>("h0")) @[Bitwise.scala 74:12]
    node _readByteData_T_2 = cat(_readByteData_T_1, DataB) @[Cat.scala 31:58]
    node _readByteData_T_3 = eq(io_memReadDataExt_ctrl_uMEM_MEM, UInt<1>("h1")) @[MEM.scala 84:39]
    node _readByteData_T_4 = bits(DataB, 7, 7) @[MEM.scala 84:71]
    node _readByteData_T_5 = bits(_readByteData_T_4, 0, 0) @[Bitwise.scala 74:15]
    node _readByteData_T_6 = mux(_readByteData_T_5, UInt<24>("hffffff"), UInt<24>("h0")) @[Bitwise.scala 74:12]
    node _readByteData_T_7 = cat(_readByteData_T_6, DataB) @[Cat.scala 31:58]
    node _readByteData_T_8 = mux(_readByteData_T_3, _readByteData_T_7, UInt<32>("h0")) @[Mux.scala 101:16]
    node readByteData = mux(_readByteData_T, _readByteData_T_2, _readByteData_T_8) @[Mux.scala 101:16]
    node _DataH_T = bits(byteAddr, 1, 1) @[MEM.scala 87:22]
    node _DataH_T_1 = eq(_DataH_T, UInt<1>("h0")) @[MEM.scala 87:26]
    node _DataH_T_2 = cat(mem.rdata1.data, mem.rdata0.data) @[Cat.scala 31:58]
    node _DataH_T_3 = bits(byteAddr, 1, 1) @[MEM.scala 88:22]
    node _DataH_T_4 = eq(_DataH_T_3, UInt<1>("h1")) @[MEM.scala 88:26]
    node _DataH_T_5 = cat(mem.rdata3.data, mem.rdata2.data) @[Cat.scala 31:58]
    node _DataH_T_6 = mux(_DataH_T_4, _DataH_T_5, UInt<16>("h0")) @[Mux.scala 101:16]
    node DataH = mux(_DataH_T_1, _DataH_T_2, _DataH_T_6) @[Mux.scala 101:16]
    node _readHalfWordData_T = eq(io_memReadDataExt_ctrl_uMEM_MEM, UInt<1>("h0")) @[MEM.scala 91:39]
    node _readHalfWordData_T_1 = mux(UInt<1>("h0"), UInt<16>("hffff"), UInt<16>("h0")) @[Bitwise.scala 74:12]
    node _readHalfWordData_T_2 = cat(_readHalfWordData_T_1, DataH) @[Cat.scala 31:58]
    node _readHalfWordData_T_3 = eq(io_memReadDataExt_ctrl_uMEM_MEM, UInt<1>("h1")) @[MEM.scala 92:39]
    node _readHalfWordData_T_4 = bits(DataH, 15, 15) @[MEM.scala 92:71]
    node _readHalfWordData_T_5 = bits(_readHalfWordData_T_4, 0, 0) @[Bitwise.scala 74:15]
    node _readHalfWordData_T_6 = mux(_readHalfWordData_T_5, UInt<16>("hffff"), UInt<16>("h0")) @[Bitwise.scala 74:12]
    node _readHalfWordData_T_7 = cat(_readHalfWordData_T_6, DataH) @[Cat.scala 31:58]
    node _readHalfWordData_T_8 = mux(_readHalfWordData_T_3, _readHalfWordData_T_7, UInt<32>("h0")) @[Mux.scala 101:16]
    node readHalfWordData = mux(_readHalfWordData_T, _readHalfWordData_T_2, _readHalfWordData_T_8) @[Mux.scala 101:16]
    node _readMemData_T = eq(io_wrMemByteSelScr_ctrl_uMEM_MEM, UInt<2>("h1")) @[MEM.scala 95:35]
    node _readMemData_T_1 = eq(io_wrMemByteSelScr_ctrl_uMEM_MEM, UInt<2>("h2")) @[MEM.scala 96:35]
    node _readMemData_T_2 = eq(io_wrMemByteSelScr_ctrl_uMEM_MEM, UInt<2>("h3")) @[MEM.scala 97:35]
    node _readMemData_T_3 = mux(_readMemData_T_2, readWordData, UInt<32>("h0")) @[Mux.scala 101:16]
    node _readMemData_T_4 = mux(_readMemData_T_1, readHalfWordData, _readMemData_T_3) @[Mux.scala 101:16]
    node _readMemData_T_5 = mux(_readMemData_T, readByteData, _readMemData_T_4) @[Mux.scala 101:16]
    node _GEN_0 = validif(_T_26, addr) @[MEM.scala 70:37 71:25]
    node _GEN_1 = validif(_T_26, clock) @[MEM.scala 70:37 71:25]
    node _GEN_2 = mux(_T_26, UInt<1>("h1"), UInt<1>("h0")) @[MEM.scala 19:18 70:37 71:25]
    node _GEN_3 = validif(_T_26, _rdata1_T_2) @[MEM.scala 70:37 72:25]
    node _GEN_4 = validif(_T_26, _rdata2_T_2) @[MEM.scala 70:37 73:25]
    node _GEN_5 = validif(_T_26, _rdata3_T_2) @[MEM.scala 70:37 74:25]
    node _GEN_6 = mux(_T_26, _readMemData_T_5, readMemData) @[MEM.scala 70:37 94:21 22:30]
    node _GEN_7 = validif(_T, addr) @[MEM.scala 65:31 66:12]
    node _GEN_8 = validif(_T, clock) @[MEM.scala 65:31 66:12]
    node _GEN_9 = mux(_T, UInt<1>("h1"), UInt<1>("h0")) @[MEM.scala 65:31 66:12 19:18]
    node _GEN_10 = validif(_T, UInt<1>("h1")) @[MEM.scala 65:31 66:19]
    node _GEN_11 = validif(_T, _T_4) @[MEM.scala 65:31 66:19]
    node _GEN_12 = validif(_T, _T_7) @[MEM.scala 65:31 67:12]
    node _GEN_13 = validif(_T, _T_11) @[MEM.scala 65:31 67:37]
    node _GEN_14 = validif(_T, _T_14) @[MEM.scala 65:31 68:12]
    node _GEN_15 = validif(_T, _T_18) @[MEM.scala 65:31 68:37]
    node _GEN_16 = validif(_T, _T_21) @[MEM.scala 65:31 69:12]
    node _GEN_17 = validif(_T, _T_25) @[MEM.scala 65:31 69:37]
    node _GEN_18 = validif(eq(_T, UInt<1>("h0")), _GEN_0) @[MEM.scala 65:31]
    node _GEN_19 = validif(eq(_T, UInt<1>("h0")), _GEN_1) @[MEM.scala 65:31]
    node _GEN_20 = mux(_T, UInt<1>("h0"), _GEN_2) @[MEM.scala 19:18 65:31]
    node _GEN_21 = validif(eq(_T, UInt<1>("h0")), _GEN_3) @[MEM.scala 65:31]
    node _GEN_22 = validif(eq(_T, UInt<1>("h0")), _GEN_4) @[MEM.scala 65:31]
    node _GEN_23 = validif(eq(_T, UInt<1>("h0")), _GEN_5) @[MEM.scala 65:31]
    node _GEN_24 = mux(_T, readMemData, _GEN_6) @[MEM.scala 22:30 65:31]
    node _wRegData_MEM_T = eq(io_wRegDataSrc_ctrl_uMEM_MEM, UInt<1>("h1")) @[MEM.scala 102:27]
    node _wRegData_MEM_T_1 = eq(io_wRegDataSrc_ctrl_uMEM_MEM, UInt<1>("h0")) @[MEM.scala 103:27]
    node _wRegData_MEM_T_2 = mux(_wRegData_MEM_T_1, io_aluResult_MEM, UInt<32>("h0")) @[Mux.scala 101:16]
    node wRegData_MEM = mux(_wRegData_MEM_T, readMemData, _wRegData_MEM_T_2) @[Mux.scala 101:16]
    io_wRegData_MEM <= wRegData_MEM @[MEM.scala 106:21]
    mem.rdata0.addr <= pad(_GEN_18, 14)
    mem.rdata0.en <= _GEN_20
    mem.rdata0.clk <= _GEN_19
    mem.rdata1.addr <= _GEN_21
    mem.rdata1.en <= _GEN_20
    mem.rdata1.clk <= _GEN_19
    mem.rdata2.addr <= _GEN_22
    mem.rdata2.en <= _GEN_20
    mem.rdata2.clk <= _GEN_19
    mem.rdata3.addr <= _GEN_23
    mem.rdata3.en <= _GEN_20
    mem.rdata3.clk <= _GEN_19
    mem.MPORT.addr <= pad(_GEN_7, 14)
    mem.MPORT.en <= _GEN_9
    mem.MPORT.clk <= _GEN_8
    mem.MPORT.data <= _GEN_11
    mem.MPORT.mask <= _GEN_10
    mem.MPORT_1.addr <= _GEN_12
    mem.MPORT_1.en <= _GEN_9
    mem.MPORT_1.clk <= _GEN_8
    mem.MPORT_1.data <= _GEN_13
    mem.MPORT_1.mask <= _GEN_10
    mem.MPORT_2.addr <= _GEN_14
    mem.MPORT_2.en <= _GEN_9
    mem.MPORT_2.clk <= _GEN_8
    mem.MPORT_2.data <= _GEN_15
    mem.MPORT_2.mask <= _GEN_10
    mem.MPORT_3.addr <= _GEN_16
    mem.MPORT_3.en <= _GEN_9
    mem.MPORT_3.clk <= _GEN_8
    mem.MPORT_3.data <= _GEN_17
    mem.MPORT_3.mask <= _GEN_10
    readMemData <= mux(reset, UInt<32>("h0"), _GEN_24) @[MEM.scala 22:{30,30}]
